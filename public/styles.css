/* Root Variables - Theme Definition */
:root {
  /* Light Theme Defaults */
  --bg-body: #f3f4f6;
  --bg-card: #ffffff;
  --bg-topbar: #ffffff;
  --bg-topbar-gradient: linear-gradient(180deg, #ffffff 0%, #f8fafc 100%);
  --bg-input: #ffffff;
  --bg-hover: #f3f4f6;
  --bg-table-header: #f9fafb;
  --bg-user-menu: #ffffff;
  --bg-menu-hover: #f9fafb;
  
  --text-main: #111827;
  --text-secondary: #374151;
  --text-muted: #6b7280;
  --text-inverse: #ffffff;
  
  --border-color: #e5e7eb;
  --border-input: #d1d5db;
  --border-focus: rgba(37, 99, 235, 0.25);
  
  --shadow-sm: 0 4px 6px -4px rgba(15, 23, 42, 0.1);
  --shadow-md: 0 10px 15px -3px rgba(15, 23, 42, 0.1), 0 4px 6px -4px rgba(15, 23, 42, 0.1);
  --shadow-lg: 0 12px 22px -20px rgba(15, 23, 42, 0.35);
  
  /* Buttons */
  --btn-default-bg: #e5e7eb;
  --btn-default-text: #111827;
  --btn-default-border: transparent;
  --btn-outline-bg: transparent;
  --btn-outline-border: #d1d5db;
  --btn-outline-text: #111827;
  --btn-outline-hover-bg: #f3f4f6;
  
  /* Accents */
  --primary: #2563eb;
  --primary-text: #ffffff;
  --success: #16a34a;
  --success-text: #ffffff;
  --danger: #dc2626;
  --danger-text: #ffffff;
  --secondary: #6b7280;
  --secondary-text: #ffffff;
  
  /* Status Colors */
  --status-in-bg: #d1fae5;
  --status-in-text: #065f46;
  --status-in-border: transparent;
  
  --status-out-bg: #fee2e2;
  --status-out-text: #991b1b;
  --status-out-border: transparent;
  
  --status-break-bg: #fef3c7;
  --status-break-text: #92400e;
  --status-break-border: transparent;
  
  /* Specific Elements */
  --clock-pill-bg: #ffffff;
  --clock-pill-border: #e5e7eb;
  --clock-pill-text: #334155;
  --clock-divider: linear-gradient(180deg, #e5e7eb 0%, #cbd5e1 50%, #e5e7eb 100%);
  
  --hours-callout-bg: #f0f9ff;
  --hours-callout-border: #2563eb;
  --hours-callout-text: #2563eb;
  --hours-callout-label: #111827;
  
  --brand-color: #111827;
  --nav-btn-bg: #f3f4f6;
  --nav-btn-text: #111827;
  --nav-btn-border: #d1d5db;
  --nav-btn-hover: #e5e7eb;
  
  --scrollbar-track: #f3f4f6;
  --scrollbar-thumb: #9ca3af;
  --scrollbar-thumb-hover: #6b7280;

  --bg-summary-row: #f9fafb;
  --bg-summary-highlight: #eef2ff;

  /* User menu typography */
  --menu-item-font: system-ui, -apple-system, BlinkMacSystemFont, 'Segoe UI', sans-serif;
  --menu-item-size: 0.95rem;
  --menu-item-weight: 600;
  --menu-sub-item-size: 0.85rem; /* ~13-14px for hierarchy */
  --menu-item-text: #374151; /* light: secondary */
  --menu-sub-item-text: #4b5563; /* light: ~10-15% lighter than main */
}

[data-theme='dark'], .dark {
  /* Dark Theme Overrides - Modern Grey/Black */
  /* Primary background: Dark grey (#1A1A1A to #2D2D2D range) */
  --bg-body: #1A1A1A;
  /* Secondary surfaces: Greyish-black (#121212 to #1E1E1E range) - Using for cards/containers */
  --bg-card: #121212;
  --bg-topbar: #121212;
  --bg-topbar-gradient: #121212;
  --bg-input: #2D2D2D;
  --bg-hover: #2D2D2D;
  --bg-table-header: #202020;
  --bg-user-menu: #121212;
  --bg-menu-hover: #2D2D2D;
  
  --text-main: #E0E0E0;
  --text-secondary: #B0B0B0;
  --text-muted: #808080;
  --text-inverse: #121212;
  
  --border-color: #333333;
  --border-input: #404040;
  --border-focus: rgba(74, 111, 165, 0.5);
  
  --shadow-sm: 0 4px 6px -4px rgba(0, 0, 0, 0.4);
  --shadow-md: 0 10px 15px -3px rgba(0, 0, 0, 0.5);
  --shadow-lg: 0 12px 22px -20px rgba(0, 0, 0, 0.6);
  
  /* Buttons */
  --btn-default-bg: #2D2D2D;
  --btn-default-text: #E0E0E0;
  --btn-default-border: #404040;
  --btn-outline-bg: transparent;
  --btn-outline-border: #404040;
  --btn-outline-text: #E0E0E0;
  --btn-outline-hover-bg: #2D2D2D;
  
  /* Accents (Desaturated) */
  --primary: #5c85c2; /* Slightly lighter for better contrast on dark */
  --primary-text: #ffffff;
  --success: #3d8b40;
  --success-text: #ffffff;
  --danger: #c62828;
  --danger-text: #ffffff;
  --secondary: #666666;
  --secondary-text: #e0e0e0;
  
  /* Status Colors */
  --status-in-bg: rgba(61, 139, 64, 0.15);
  --status-in-text: #81c784;
  --status-in-border: 1px solid #3d8b40;
  
  --status-out-bg: rgba(198, 40, 40, 0.15);
  --status-out-text: #e57373;
  --status-out-border: 1px solid #c62828;
  
  --status-break-bg: rgba(183, 121, 31, 0.15);
  --status-break-text: #ffb74d;
  --status-break-border: 1px solid #b7791f;
  
  /* Specific Elements */
  --clock-pill-bg: #2D2D2D;
  --clock-pill-border: #404040;
  --clock-pill-text: #E0E0E0;
  --clock-divider: #404040;
  
  --hours-callout-bg: rgba(74, 111, 165, 0.15);
  --hours-callout-border: #4a6fa5;
  --hours-callout-text: #93c5fd;
  --hours-callout-label: #A0A0A0;
  
  --brand-color: #E0E0E0;
  --nav-btn-bg: #2D2D2D;
  --nav-btn-text: #E0E0E0;
  --nav-btn-border: #404040;
  --nav-btn-hover: #383838;
  
  --scrollbar-track: #181818;
  --scrollbar-thumb: #404040;
  --scrollbar-thumb-hover: #555555;

  --bg-summary-row: #202020;
  --bg-summary-highlight: rgba(92, 133, 194, 0.2);

  /* User menu typography (dark) */
  --menu-item-font: system-ui, -apple-system, BlinkMacSystemFont, 'Segoe UI', sans-serif;
  --menu-item-size: 0.95rem;
  --menu-item-weight: 600;
  --menu-sub-item-size: 0.85rem; /* ~13-14px */
  --menu-item-text: #C8C8C8; /* dark: slightly lighter than secondary */
  --menu-sub-item-text: #A5A5A5; /* dark: ~10-15% darker than main */
}

*,
*::before,
*::after {
  box-sizing: border-box;
}

body {
  margin: 0;
  font-family: system-ui, -apple-system, BlinkMacSystemFont, 'Segoe UI', sans-serif;
  background: var(--bg-body);
  color: var(--text-main);
  transition: background-color 0.2s ease, color 0.2s ease;
}

.topbar {
  display: grid;
  grid-template-columns: 1fr auto 1fr;
  align-items: center;
  padding: 0.75rem 1.5rem;
  background: var(--bg-topbar-gradient);
  color: var(--text-main);
  gap: 1rem;
  border-bottom: 1px solid var(--border-color);
  box-shadow: var(--shadow-lg);
}

.brand {
  font-weight: 700;
  letter-spacing: 0.2px;
  color: var(--brand-color);
  text-decoration: none;
}

.topbar-nav {
  display: flex;
  align-items: center;
  gap: 0.5rem;
  flex-shrink: 0;
  justify-self: center;
}

.btn-nav {
  background: var(--nav-btn-bg);
  color: var(--nav-btn-text);
  border-color: var(--nav-btn-border);
  padding: 0.48rem 1rem;
  font-size: 0.9rem;
  font-family: system-ui, -apple-system, BlinkMacSystemFont, 'Segoe UI', sans-serif;
  font-weight: 600;
  letter-spacing: 0.2px;
  min-width: 96px;
  height: 36px;
  transition: background-color 150ms ease, border-color 150ms ease, box-shadow 150ms ease, transform 80ms ease;
  border-width: 1px;
  border-style: solid;
  border-radius: 999px;
  cursor: pointer;
}

.btn-nav:hover {
  background: var(--nav-btn-hover);
  border-color: var(--border-input);
  box-shadow: var(--shadow-sm);
}

.btn-nav:active {
  transform: translateY(1px);
  box-shadow: none;
}

.btn-nav:focus-visible {
  outline: none;
  box-shadow: 0 0 0 3px var(--border-focus);
}

.topbar-right {
  display: flex;
  align-items: center;
  gap: 0.75rem;
  flex-shrink: 0;
  justify-self: end;
}

@media (max-width: 640px) {
  .topbar {
    grid-template-columns: auto 1fr auto;
    padding: 0.5rem 0.75rem;
    gap: 0.5rem;
  }
  .topbar-nav { justify-self: center; }
  .topbar-right { justify-self: end; }
}

.user-menu { position: relative; z-index: 20; }
.user-menu-trigger { 
  display:inline-flex; 
  align-items:center; 
  justify-content:center; 
  width:36px; 
  height:36px; 
  border-radius:999px; 
  border:1px solid var(--border-input); 
  background: transparent; 
  color: var(--text-main); 
  cursor:pointer; 
  transition: background-color 0.3s ease, transform 0.3s ease, border-color 0.3s ease;
}
.user-menu-trigger:hover { background: var(--bg-hover); transform: scale(1.03); }
.user-menu-trigger:active { transform: scale(0.98); }
.user-menu-trigger[aria-expanded="true"] { box-shadow:0 0 0 3px var(--border-focus); }
.user-menu-trigger:focus-visible { outline:none; box-shadow:0 0 0 3px var(--border-focus); }
.user-menu-trigger svg { display:block; transition: all 0.3s ease; }
.user-menu-trigger .circle, .user-menu-trigger .head { transition: all 0.3s ease; transform-origin: 50% 50%; }
.user-menu-trigger:hover .circle { transform: scale(1.08); }
.user-menu-trigger:hover .head { transform: translateY(-2px); }
.user-menu-trigger[aria-expanded="true"] .circle { transform: scale(0.92); }
.user-menu-trigger[aria-expanded="true"] .head { transform: translateY(2px); }
@keyframes userIconWave { 0% { transform: translateY(0); } 50% { transform: translateY(-1px); } 100% { transform: translateY(0); } }
.user-menu-trigger:hover svg { animation: userIconWave 0.5s ease-in-out; }

.user-menu-panel { 
  position:absolute; 
  right:0; 
  top:100%; 
  margin-top:8px; 
  min-width:260px; 
  background: var(--bg-user-menu); 
  color: var(--text-main); 
  border:1px solid var(--border-color); 
  border-radius:0.75rem; 
  box-shadow: var(--shadow-lg); 
  opacity:0; 
  transform:translateY(-6px) scale(0.98); 
  pointer-events:none; 
  transition:opacity 140ms ease, transform 160ms ease; 
  z-index:50; 
}
.user-menu-panel.open { opacity:1; transform:translateY(0) scale(1); pointer-events:auto; }
.user-menu-header { padding:0.9rem 1rem 0.4rem; }
.user-name { font-weight:600; letter-spacing:0.1px; color: var(--text-secondary); font-family: var(--menu-item-font); }
.user-email { font-size:0.85rem; font-weight:500; color: var(--text-muted); font-family: var(--menu-item-font); }
.user-menu-actions { display:flex; flex-direction:column; gap:0.2rem; padding:0.45rem 0.85rem; }

.user-menu-section { display:flex; flex-direction:column; gap:0.5rem; }
.section-label { font-size: var(--menu-item-size); color: var(--menu-item-text); font-weight: var(--menu-item-weight); text-transform:none; font-family: var(--menu-item-font); }
.theme-options { display:flex; flex-direction:column; gap:0.04rem; margin-left:-2px; }
.user-menu-panel .menu-item { 
  display:flex; 
  align-items:center; 
  gap:0.5rem; 
  width:100%; 
  min-height:32px; 
  padding:0.3rem 0.25rem; 
  border-radius:0.5rem; 
  border:none; 
  background:transparent; 
  font-family: var(--menu-item-font); 
  color: var(--menu-item-text); 
  font-size: var(--menu-item-size); 
  font-weight: var(--menu-item-weight); 
  transition: background-color 140ms ease, color 140ms ease; 
  cursor:pointer; 
}
.user-menu-panel .menu-item:focus-visible { outline:none; box-shadow:0 0 0 3px var(--border-focus); }
.user-menu-panel .menu-item[role="menuitemradio"]::before { 
  content:""; 
  width:8px; 
  height:8px; 
  border-radius:999px; 
  background:transparent; 
  display:inline-block; 
  margin-left:0.25rem; 
  margin-right:0.5rem; 
}
.user-menu-panel .menu-item[role="menuitemradio"][aria-checked="true"]::before { background: var(--menu-item-text); }
.user-menu-panel .menu-item[role="menuitemradio"] { font-size: var(--menu-sub-item-size); font-weight: 500; color: var(--menu-sub-item-text); min-height:26px; padding:0.18rem 0.25rem; line-height:1.15; }
.user-menu-panel .menu-item:hover { background: var(--bg-menu-hover); }
.menu-divider { height:1px; background: var(--border-color); margin:0.15rem 0; }
.user-menu-actions .menu-item[role="menuitem"] { padding-left:0; color: var(--menu-item-text); font-weight: var(--menu-item-weight); font-size: var(--menu-item-size); letter-spacing:0.1px; background:transparent; border:none; text-align:left; min-height:28px; font-family: var(--menu-item-font); padding-top:0.14rem; padding-bottom:0.14rem; line-height:1.15; }

.user-label {
  font-size: 0.9rem;
  opacity: 0.9;
  color: var(--text-secondary);
}

.container {
  max-width: 960px;
  margin: 1.5rem auto;
  padding: 0 1rem;
}

.card {
  background: var(--bg-card);
  border-radius: 0.75rem;
  padding: 1.25rem 1.5rem;
  margin-bottom: 1rem;
  box-shadow: var(--shadow-md);
  border: 1px solid var(--border-color);
}

.card-header {
  display: flex;
  justify-content: space-between;
  align-items: center;
  margin-bottom: 1rem;
}

.card-header h1 {
  margin: 0;
  align-self: center;
  color: var(--text-main);
}

h1, h2 {
  margin: 0 0 0.75rem 0;
  color: var(--text-main);
}

.form {
  display: flex;
  flex-direction: column;
  gap: 0.75rem;
}

label {
  display: flex;
  flex-direction: column;
  gap: 0.25rem;
  font-size: 0.9rem;
  color: var(--text-main);
}

input[type='text'],
input[type='password'],
input[type='email'],
input[type='date'] {
  padding: 0.5rem 0.75rem;
  border-radius: 0.5rem;
  border: 1px solid var(--border-input);
  font-size: 1rem;
  background: var(--bg-input);
  color: var(--text-main);
}

.checkbox {
  flex-direction: row;
  align-items: center;
  gap: 0.5rem;
}

.button-row {
  display: flex;
  flex-wrap: wrap;
  gap: 0.5rem;
  margin-top: 0.75rem;
}

.dashboard .punch-controls { justify-content: flex-start; }
.dashboard .punch-controls .btn { min-width:105px; }
.dashboard .admin-tools .button-row { justify-content: flex-start; }
.dashboard .admin-tools .button-row .btn { min-width: 170px; }

.btn {
  display: inline-flex;
  align-items: center;
  justify-content: center;
  padding: 0.5rem 0.9rem;
  border-radius: 999px;
  border: 1px solid var(--btn-default-border);
  font-size: 0.9rem;
  font-weight: 500;
  cursor: pointer;
  text-decoration: none;
  background: var(--btn-default-bg);
  color: var(--btn-default-text);
  transition: box-shadow 180ms ease, transform 120ms ease, filter 150ms ease, border-color 150ms ease;
  transform-origin: center;
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
}

.btn-primary { background: var(--primary); color: var(--primary-text); border: none; }
.btn-success { background: var(--success); color: var(--success-text); border: none; }
.btn-danger { background: var(--danger); color: var(--danger-text); border: none; }
.btn-secondary { background: var(--secondary); color: var(--secondary-text); border: none; }

.btn-success:hover, .btn-danger:hover, .btn-secondary:hover {
  border-color: var(--border-input);
  box-shadow: var(--shadow-md);
  filter: none;
  transform: translateY(-1px) scale(1.02);
}
.btn-success:active, .btn-danger:active, .btn-secondary:active {
  border-color: var(--border-input);
  box-shadow: none;
  transform: none;
}

.btn-outline {
  background: var(--btn-outline-bg);
  border-color: var(--btn-outline-border);
  color: var(--btn-outline-text);
}
.btn-outline:hover {
  background: var(--btn-outline-hover-bg);
  border-color: var(--border-input);
}

.btn-small { padding: 0.25rem 0.6rem; font-size: 0.8rem; }

.table { width: 100%; border-collapse: collapse; font-size: 0.9rem; }
.table th, .table td { padding: 0.5rem 0.6rem; border-bottom: 1px solid var(--border-color); color: var(--text-main); }
.table th { text-align: left; background: var(--bg-table-header); font-weight: 600; }

.alert {
  padding: 0.6rem 0.75rem;
  border-radius: 0.5rem;
  background: #fee2e2; /* Default light alert - consider var if needed */
  color: #b91c1c;
  margin-bottom: 0.75rem;
  font-size: 0.9rem;
}
.dark .alert { background: rgba(239, 68, 68, 0.16); color: #fecaca; border-left: 3px solid #ef4444; }

.status-message {
  padding: 0.5rem 0.75rem;
  border-radius: 0.5rem;
  margin-bottom: 0.75rem;
  font-size: 0.9rem;
  font-weight: 500;
}

.status-in { background: var(--status-in-bg); color: var(--status-in-text); border: var(--status-in-border); }
.status-out { background: var(--status-out-bg); color: var(--status-out-text); border: var(--status-out-border); }
.status-break { background: var(--status-break-bg); color: var(--status-break-text); border: var(--status-break-border); }

.btn:disabled { opacity: 0.5; cursor: not-allowed; pointer-events: none; }

.clock {
  font-family: ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, "Liberation Mono", "Courier New", monospace;
  color: #fff;
  display: inline-flex;
  flex-direction: column;
  align-items: center;
  text-align: center;
  gap: 2px;
  padding: 0.5rem 0.7rem;
  min-width: 7.5rem;
  border-radius: 0.6rem;
  background: linear-gradient(180deg, #0b1220 0%, #0e1726 100%); /* Kept legacy/unused */
  border: 1px solid #0f172a;
  box-shadow: 0 8px 20px -12px rgba(2, 6, 23, 0.6);
}

.clock-group { display: inline-flex; flex-direction: column; gap: 0.35rem; align-items: flex-end; }

.clock-pill {
  display: inline-flex;
  flex-direction: row;
  align-items: center;
  justify-content: center;
  gap: 0.25rem;
  padding: 0.38rem 0.55rem;
  border-radius: 0.6rem;
  background: var(--clock-pill-bg);
  border: 1px solid var(--clock-pill-border);
  box-shadow: var(--shadow-md);
  white-space: nowrap;
  color: var(--clock-pill-text);
}
.clock-pill-time { display: inline-flex; align-items: center; gap: 0.25rem; line-height: 1; order: 3; }
.clock-pill-date { display: inline-flex; align-items: center; order: 1; line-height: 1; }
.clock-pill-date .date-text {
  display: flex;
  align-items: center;
  line-height: 1;
  font-weight: 600;
  color: var(--clock-pill-text);
  letter-spacing: 0;
  transform: translateY(-1px);
}
.clock-divider {
  order: 2;
  display: inline-block;
  width: 1px;
  height: 1.6em;
  background: var(--clock-divider);
  border-radius: 1px;
  margin: 0 2px;
}
.dashboard .clock-pill { justify-self: end; }
@media (max-width: 640px) {
  .dashboard .clock-pill { flex-direction: column; align-items: center; gap: 0.12rem; }
  .clock-divider { display: none; }
}

.time-main {
  font-family: ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, "Liberation Mono", "Courier New", monospace;
  font-variant-numeric: tabular-nums;
  font-weight: 700;
  letter-spacing: 0.1px;
}
.time-ampm {
  font-size: 0.75rem;
  font-weight: 700;
  padding: 0.06rem 0.28rem;
  border-radius: 0.35rem;
  background: transparent;
  color: inherit;
  border: 1px solid var(--border-color);
}

.hours-callout {
  margin: 0.75rem 0;
  padding: 0.75rem;
  background: var(--hours-callout-bg);
  border-radius: 0.5rem;
  border-left: 4px solid var(--hours-callout-border);
  display: flex;
  gap: 0.5rem;
  align-items: baseline;
}
.hours-callout .label { font-weight: 600; color: var(--hours-callout-label); }
.hours-callout .value { font-size: 1.2rem; font-weight: 700; color: var(--hours-callout-text); }

.hours-history .table-scroll,
.table-responsive {
  border: 1px solid var(--border-color);
  border-radius: 0.5rem;
  overflow-y: auto;
}
.hours-history .table-scroll { max-height: 360px; }
.table-responsive { overflow-x: auto; }

.recent-activity .table thead th,
.recent-punches .table thead th,
.hours-history .table thead th {
  position: sticky;
  top: 0;
  background: var(--bg-table-header);
  z-index: 1;
}

/* Body-only vertical scroll (keeps header clean) */
.recent-activity .table-scroll,
.recent-punches .table-scroll {
  border: 1px solid var(--border-color);
  border-radius: 0.5rem;
  overflow-y: hidden;
  overflow-x: auto;
}
.recent-activity .table,
.recent-punches .table { width: 100%; table-layout: fixed; }
.recent-activity .table thead,
.recent-activity .table tbody,
.recent-punches .table thead,
.recent-punches .table tbody { display: block; }
.recent-activity .table thead tr,
.recent-activity .table tbody tr,
.recent-punches .table thead tr,
.recent-punches .table tbody tr { display: table; width: 100%; table-layout: fixed; }
.recent-activity .table tbody { max-height: 300px; overflow-y: auto; }
.recent-punches .table tbody { max-height: 480px; overflow-y: auto; }

/* Column widths to keep header/body aligned */
.recent-activity .table th:nth-child(1),
.recent-activity .table td:nth-child(1) { width: 60%; }
.recent-activity .table th:nth-child(2),
.recent-activity .table td:nth-child(2) { width: 40%; }

.recent-punches .table th:nth-child(1),
.recent-punches .table td:nth-child(1) { width: 30%; }
.recent-punches .table th:nth-child(2),
.recent-punches .table td:nth-child(2) { width: 30%; }
.recent-punches .table th:nth-child(3),
.recent-punches .table td:nth-child(3) { width: 20%; }
.recent-punches .table th:nth-child(4),
.recent-punches .table td:nth-child(4) { width: 20%; }

/* New: fixed header + scrollable body structure */
.table-wrap {
  border: 1px solid var(--border-color);
  border-radius: 0.5rem;
  overflow: hidden;
}
.table-wrap > .table { width: 100%; border-collapse: collapse; }
.table-wrap > .table thead th { background: var(--bg-table-header); }
.table-wrap .table-head-scroll { overflow-x: auto; overflow-y: hidden; scrollbar-gutter: stable both-edges; }
.table-wrap .table-body-scroll { overflow-y: auto; overflow-x: auto; scrollbar-gutter: stable both-edges; }
.table-wrap .table-head-scroll::-webkit-scrollbar { height: 8px; }
.table-wrap .table-body-scroll::-webkit-scrollbar { width: 8px; height: 8px; }
.recent-activity .table-wrap .table-body-scroll { max-height: 300px; }
.recent-punches .table-wrap .table-body-scroll { max-height: 480px; }
.recent-activity .table-wrap .table thead th,
.recent-punches .table-wrap .table thead th { position: static; }

::-webkit-scrollbar { width: 8px; height: 8px; }
::-webkit-scrollbar-track { background: var(--scrollbar-track); border-radius: 8px; }
::-webkit-scrollbar-thumb { background: var(--scrollbar-thumb); border-radius: 8px; }
::-webkit-scrollbar-thumb:hover { background: var(--scrollbar-thumb-hover); }

/* Responsive Grid Adjustments */
@media (max-width: 640px) {
  .topbar { grid-template-columns: auto 1fr auto; gap: 0.5rem; padding: 0.5rem 0.75rem; }
  .topbar-nav { justify-content: center; justify-self: center; }
  .topbar-right { justify-self: end; width: auto; }
  .card { padding: 1rem; }
  
  .dashboard .card h1 { font-size: 1.35rem; line-height: 1.3; }
  .dashboard .card-header { display: grid; grid-template-columns: 1fr auto; align-items: center; gap: 0.5rem; }
  .dashboard .button-row { display: grid; grid-template-columns: 1fr 1fr; }
  .dashboard .button-row form, .dashboard .button-row a { width: 100%; }
  .dashboard .button-row .btn { width: 100%; }
  .dashboard .recent-activity .card-header { flex-direction: column; align-items: flex-start; gap: 0.5rem; }
  .dashboard .recent-activity .card-header .btn { width: 100%; }
  .dashboard .admin-tools .button-row { display: grid; grid-template-columns: 1fr 1fr; gap: 0.5rem; }
  .dashboard .admin-tools .button-row .btn { width: 100%; }
  
  .date-range-form { display: grid; grid-template-columns: 1fr; align-items: start; }
  .date-range-form label, .date-range-form input[type="date"], .date-range-form .btn { width: 100%; }
  .quick-filters { display: grid; grid-template-columns: repeat(2, 1fr); gap: 0.5rem; width: 100%; }
  .quick-filters .btn { width: 100%; }
}
@media (max-width: 400px) {
  .dashboard .admin-tools .button-row { grid-template-columns: 1fr; }
}

.hours-history .hours-table-group {
  border: 1px solid var(--border-color);
  border-radius: 0.5rem;
  overflow: hidden;
}

/* Override shared .table-scroll styles to integrate with group container */
.hours-history .table-scroll {
  border: none;
  border-radius: 0;
}

.hours-history .table {
  table-layout: fixed;
}

/* Align columns across main table and summary table */
.hours-history .table th:nth-child(1),
.hours-history .table td:nth-child(1),
.hours-history .summary-table td:nth-child(1) {
  width: 50%;
}

.hours-history .table th:nth-child(2),
.hours-history .table td:nth-child(2),
.hours-history .summary-table td:nth-child(2) {
  width: 50%;
  text-align: center;
}

.hours-history .summary-table { width: 100%; table-layout: fixed; border-top: 1px solid var(--border-color); }

.summary-row {
  background: var(--bg-summary-row);
  font-weight: 700;
}

.summary-row-highlight {
  background: var(--bg-summary-highlight);
  font-weight: 700;
}

.date-range-form {
  display: flex;
  gap: 0.5rem;
  align-items: center;
  flex-wrap: wrap;
  margin-bottom: 1rem;
  padding: 1rem;
  background: var(--bg-table-header);
  border-radius: 0.5rem;
  border: 1px solid var(--border-color);
}

.card-danger { border: 2px solid #fecaca; background: #fff1f2; }
.text-danger-muted { font-size: 0.9rem; color: #7f1d1d; }
.dark .card-danger { background: rgba(127, 29, 29, 0.2); border: 1px solid #7f1d1d; }
.dark .text-danger-muted { color: #fecaca; }
