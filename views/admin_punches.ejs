<%-
  include('layout', {
    title: 'Recent Punches',
    user,
    body: `
      <section class="card recent-punches">
        <div class="card-header">
          <h1>Recent Punches</h1>
          <div class="clock-pill" id="ny-clock">
            <div class="clock-pill-time">
              <span class="time-main" id="ny-time-main">${(nyClock && nyClock.timeMain) ? nyClock.timeMain : ''}</span>
              <span class="time-ampm" id="ny-time-ampm">${(nyClock && nyClock.ampm) ? nyClock.ampm : ''}</span>
            </div>
            <span class="clock-divider" aria-hidden="true"></span>
            <div class="clock-pill-date">
              <span class="date-text" id="ny-date-full">${(nyClock && nyClock.dateFull) ? nyClock.dateFull : ''}</span>
            </div>
          </div>
        </div>
        <div class="table-scroll">
          <table class="table">
            <thead>
              <tr>
                <th>When</th>
                <th>Employee</th>
                <th>Username</th>
                <th>Type</th>
              </tr>
            </thead>
            <tbody>
              ${
                punches.length === 0
                  ? '<tr><td colspan="4">No punches yet.</td></tr>'
                  : punches
                      .map(
                        (p) => `
              <tr>
                <td>${toLocalString(p.punched_at)}</td>
                <td>${p.name}</td>
                <td>${p.username}</td>
                <td>${p.punch_type}</td>
              </tr>`
                      )
                      .join('')
              }
            </tbody>
          </table>
        </div>
      </section>
    `
  })
%>
